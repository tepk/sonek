{"version":3,"sources":["../../../src/validate/__tests__/index.unit.js"],"names":["describe","beforeEach","Object","keys","_pluginValidators","prop","it","handler","metrics","to","equal","config","servers","one","host","problems","e","console","log","errors","instanceOf","Array","depreciations"],"mappings":";;AAAA;;;;AACA;;;;AAEAA,SAAS,WAAT,EAAsB,YAAM;AAC1BC,aAAW,YAAM;AAAA;AAAA;AAAA;;AAAA;AACf,2BAAmBC,OAAOC,IAAP,CAAYC,wBAAZ,CAAnB,8HAAmD;AAAA,YAAxCC,IAAwC;;AACjD,eAAOD,yBAAkBC,IAAlB,CAAP;AACD;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIhB,GAJD;;AAMAL,WAAS,oBAAT,EAA+B,YAAM;AACnCM,OAAG,sBAAH,EAA2B,YAAM;AAC/B,UAAMC,UAAU,SAAVA,OAAU,GAAM,CAAG,CAAzB;;AAEA,qCAAmB,SAAnB,EAA8BA,OAA9B;AACA,wBAAOH,yBAAkBI,OAAzB,EAAkCC,EAAlC,CAAqCC,KAArC,CAA2CH,OAA3C;AACD,KALD;AAMD,GAPD;;AASAP,WAAS,UAAT,EAAqB,YAAM;AACzBM,OAAG,4BAAH,EAAiC,YAAM;AACrC,UAAMK,SAAS;AACbC,iBAAS;AACPC,eAAK;AACHC,kBAAM;AADH;AADE;AADI,OAAf;;AAQA,UAAIC,iBAAJ;;AAEA,UAAI;AACFA,mBAAW,qBAASJ,MAAT,CAAX;AACD,OAFD,CAEE,OAAOK,CAAP,EAAU;AACVC,gBAAQC,GAAR,CAAYF,CAAZ;AACD;AACD;AACA,wBAAOD,SAASI,MAAhB,EAAwBC,UAAxB,CAAmCC,KAAnC;AACA,wBAAON,SAASO,aAAhB,EAA+BF,UAA/B,CAA0CC,KAA1C;AACD,KAnBD;AAoBD,GArBD;AAsBD,CAtCD","file":"index.unit.js","sourcesContent":["import validate, { _pluginValidators, addPluginValidator } from '../index';\nimport { expect } from 'chai';\n\ndescribe('validator', () => {\n  beforeEach(() => {\n    for (const prop of Object.keys(_pluginValidators)) {\n      delete _pluginValidators[prop];\n    }\n  });\n\n  describe('addPluginValidator', () => {\n    it('should add validator', () => {\n      const handler = () => { };\n\n      addPluginValidator('metrics', handler);\n      expect(_pluginValidators.metrics).to.equal(handler);\n    });\n  });\n\n  describe('validate', () => {\n    it('should validate the config', () => {\n      const config = {\n        servers: {\n          one: {\n            host: '0.0.0.0'\n          }\n        }\n      };\n\n      let problems;\n\n      try {\n        problems = validate(config);\n      } catch (e) {\n        console.log(e);\n      }\n      // console.log(errors);\n      expect(problems.errors).instanceOf(Array);\n      expect(problems.depreciations).instanceOf(Array);\n    });\n  });\n});\n"]}