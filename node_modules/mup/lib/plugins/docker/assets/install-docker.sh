install_docker () {
  if lsb_release -is > /dev/null
  then
    # Required to update Ubuntu system
    sudo rm /var/lib/dpkg/lock > /dev/null
    sudo rm /var/cache/apt/archives/lock > /dev/null
    sudo dpkg --configure -a
    set -e
    sudo apt-get update
    sudo apt-get -y install wget lxc iptables curl
    # Install docker
    wget -qO- https://get.docker.com/ | sudo sh
    sudo usermod -a -G docker ${USER}
  else
    # Required to update CentOS system
    sudo rm -f /var/run/yum.pid > /dev/null
    sudo yum clean all > /dev/null
    set -e
    sudo yum -y update
    sudo yum -y install wget lxc iptables curl redhat-lsb-core initscripts
    # Install docker
    wget -qO- https://get.docker.com/ | sudo sh
    sudo usermod -a -G docker ${USER}
    # start docker on boot
    sudo chkconfig docker on
  fi
}
